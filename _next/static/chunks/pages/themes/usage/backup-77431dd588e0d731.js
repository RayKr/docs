(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{4816:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/themes/usage/backup",function(){return s(3062)}])},3062:function(e,n,s){"use strict";s.r(n);var i=s(1527),a=s(985),c=s(6736);s(8823);var r=s(5032);function p(e){let n=Object.assign({h1:"h1",p:"p",h2:"h2",code:"code",pre:"pre",span:"span"},(0,c.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{children:"备份与回滚"}),"\n",(0,i.jsx)(n.p,{children:"在 Mix Space 中内有备份功能，并且每日默认自动备份，数据无价请定期手动下载备份包。"}),"\n",(0,i.jsx)(n.h2,{id:"备份",children:"备份"}),"\n",(0,i.jsx)(n.p,{children:"在后端中 其他 - 备份 中点击立即备份，即备份到绝对目录："}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"~/mx-space/core/data/mx-space/backup/20xx-xx-xx_xx:xx:xx/backup-20xx-xx-xx_xx:xx:xx.zip"})}),"\n",(0,i.jsx)(n.h2,{id:"自动备份",children:"自动备份"}),"\n",(0,i.jsx)(n.p,{children:"目前该功能仅支持备份到腾讯云 COS，暂不支持其他云服务。当然，你也可以通过设置计划任务等方法达到和此功能一样的效果。"}),"\n",(0,i.jsx)(n.p,{children:"设置入口：设定 - 系统 - 备份，填入 COS 对应参数即可。"}),"\n",(0,i.jsx)(n.h2,{id:"回滚",children:"回滚"}),"\n",(0,i.jsxs)(r.UW,{type:"error",emoji:"⚠️",children:[(0,i.jsx)(n.p,{children:"该操作涉及修改数据库，请多备份几个工作日的 backup，数据无价请谨慎操作！"}),(0,i.jsx)(n.p,{children:"一般情况下回滚只会导致 analyze 数据页丢失 IP & PV 的数据。"})]}),"\n",(0,i.jsx)(r.UW,{type:"info",children:(0,i.jsx)(n.p,{children:"Linux 和 macOS 可直接上传备份包，并且无需修改包名一致即可回滚，以下操作仅针对使用 Windows 用户访问后端回滚的情况。"})}),"\n",(0,i.jsxs)(n.p,{children:["在后端中 其他 - 备份 中点击立即备份，将之前在电脑里的 ",(0,i.jsx)(n.code,{children:"backup.zip"})," 上传到刚刚生成的备份目录里进行重命名替换。"]}),"\n",(0,i.jsx)(n.p,{children:"例：假如刚刚生成的备份是 backup-2022-09-01_23:33:33.zip 将想进行回滚的备份包 backup-2022-01-14_05:14:19.zip 修改为刚刚生成的备份一样的名字："}),"\n",(0,i.jsx)(n.pre,{"data-language":"bash","data-theme":"default",hasCopyCode:!0,children:(0,i.jsx)(n.code,{"data-language":"bash","data-theme":"default",children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"mv"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"~/mx-space/core/data/mx-space/backup/2022-01-14_05:14:19/backup-2022-01-14_05:14:19.zip"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"backup-2022-09-01_23:33:33.zip"})]})})}),"\n",(0,i.jsx)(r.UW,{type:"warning",emoji:"⚠️",children:(0,i.jsx)(n.p,{children:"不要在 Windows 下重命名，Windows 不支持将英文冒号作为文件名的一部分"})}),"\n",(0,i.jsx)(n.p,{children:"替换完成会提示“数据库有变动，将在 x 秒后重载页面”，重载先检查文章评论等有没有丢失。"})]})}n.default=(0,a.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,c.ah)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)},pageOpts:{filePath:"pages/themes/usage/backup.mdx",route:"/themes/usage/backup",headings:[{depth:1,value:"备份与回滚",id:"备份与回滚"},{depth:2,value:"备份",id:"备份"},{depth:2,value:"自动备份",id:"自动备份"},{depth:2,value:"回滚",id:"回滚"}],title:"备份与回滚"},pageNextRoute:"/themes/usage/backup"})}},function(e){e.O(0,[76,774,888,179],function(){return e(e.s=4816)}),_N_E=e.O()}]);